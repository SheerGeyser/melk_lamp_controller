# MELK Lamp Controller

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–º–Ω–æ–π –ª–∞–º–ø–æ–π MELK —á–µ—Ä–µ–∑ Bluetooth. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞, —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–∏ —è—Ä–∫–æ—Å—Ç–∏ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –¢–µ–∫—É—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- **Bluetooth –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏ —Ä—É—á–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ª–∞–º–ø–µ MELK
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏–µ–º** - –≤–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –ª–∞–º–ø—ã
- **–í—ã–±–æ—Ä —Ü–≤–µ—Ç–∞** - –ø–æ–ª–Ω–æ—Ü–≤–µ—Ç–Ω—ã–π –ø–∏–∫–µ—Ä + 8 –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤
- **–†–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ —è—Ä–∫–æ—Å—Ç–∏** - –ø–ª–∞–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Ç 0 –¥–æ 100%
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –∏ —è—Ä–∫–æ—Å—Ç–∏ –≤ localStorage
- **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI** - glassmorphism –¥–∏–∑–∞–π–Ω —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–Ω–æ–π –ª–µ–Ω—Ç–æ–π** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ WS2812B –∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã—Ö —Å–≤–µ—Ç–æ–¥–∏–æ–¥–Ω—ã—Ö –ª–µ–Ω—Ç
- **–†–µ–∂–∏–º—ã –æ—Å–≤–µ—â–µ–Ω–∏—è**:
  - üî• **–û–≥–æ–Ω—å** - –∏–º–∏—Ç–∞—Ü–∏—è –ø–ª–∞–º–µ–Ω–∏ —Å –º–µ—Ä—Ü–∞–Ω–∏–µ–º
  - üéâ **–î–∏—Å–∫–æ—Ç–µ–∫–∞** - –±—ã—Å—Ç—Ä–∞—è —Å–º–µ–Ω–∞ —Ü–≤–µ—Ç–æ–≤ –≤ —Ä–∏—Ç–º–µ –º—É–∑—ã–∫–∏
  - üåà **–†–∞–¥—É–≥–∞** - –ø–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —Ü–≤–µ—Ç–∞–º–∏
  - üí´ **–ó–≤–µ–∑–¥–Ω–æ–µ –Ω–µ–±–æ** - –º–µ—Ä—Ü–∞—é—â–∏–µ —Ç–æ—á–∫–∏ —Ä–∞–∑–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞
  - üåä **–í–æ–ª–Ω—ã** - –≤–æ–ª–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ —Å–≤–µ—Ç–∞
  - ‚ö° **–ú–æ–ª–Ω–∏—è** - —Ä–µ–∑–∫–∏–µ –≤—Å–ø—ã—à–∫–∏ –±–µ–ª–æ–≥–æ —Å–≤–µ—Ç–∞
  - üé® **–¶–≤–µ—Ç–æ–º—É–∑—ã–∫–∞** - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –∞—É–¥–∏–æ

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ `melk_lamp_controller.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Web Bluetooth (Chrome, Edge)
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É Bluetooth –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ª–∞–º–ø–µ MELK
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ü–≤–µ—Ç–∞ –∏ —è—Ä–∫–æ—Å—Ç–∏
4. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü—Ä–æ—Ç–æ–∫–æ–ª –∫–æ–º–∞–Ω–¥

–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ: `7E 00 05 [–ö–û–ú–ê–ù–î–ê] [–ü–ê–†–ê–ú–ï–¢–†–´] 00 EF`

#### –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
- **–í–∫–ª—é—á–µ–Ω–∏–µ –ª–∞–º–ø—ã**: `7E 00 05 03 [R] [G] [B] 00 EF`
  - R, G, B - –∑–Ω–∞—á–µ–Ω–∏—è –∫—Ä–∞—Å–Ω–æ–≥–æ, –∑–µ–ª–µ–Ω–æ–≥–æ –∏ —Å–∏–Ω–µ–≥–æ –∫–∞–Ω–∞–ª–æ–≤ (0-255)
- **–í—ã–∫–ª—é—á–µ–Ω–∏–µ –ª–∞–º–ø—ã**: `7E 00 05 02 00 00 00 00 EF`

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —è—Ä–∫–æ—Å—Ç—å—é
–Ø—Ä–∫–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ RGB –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫–æ–º–∞–Ω–¥–µ –≤–∫–ª—é—á–µ–Ω–∏—è:
- –ë–∞–∑–æ–≤—ã–π —Ü–≤–µ—Ç —É–º–Ω–æ–∂–∞–µ—Ç—Å—è –Ω–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —è—Ä–∫–æ—Å—Ç–∏ (0-100%)
- –§–æ—Ä–º—É–ª–∞: `adjustedColor = baseColor * (brightness / 100)`

#### –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥
```javascript
// –í–∫–ª—é—á–∏—Ç—å –∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç –Ω–∞ 50% —è—Ä–∫–æ—Å—Ç–∏
7E 00 05 03 7F 00 00 00 EF

// –í–∫–ª—é—á–∏—Ç—å –±–µ–ª—ã–π —Ü–≤–µ—Ç –Ω–∞ 100% —è—Ä–∫–æ—Å—Ç–∏  
7E 00 05 03 FF FF FF 00 EF

// –í—ã–∫–ª—é—á–∏—Ç—å –ª–∞–º–ø—É
7E 00 05 02 00 00 00 00 EF
```

### Bluetooth —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
- **–°–µ—Ä–≤–∏—Å**: `0000fff0-0000-1000-8000-00805f9b34fb`
- **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞**: `0000fff3-0000-1000-8000-00805f9b34fb`
- **–§–∏–ª—å—Ç—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤**: –∏–º—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å "MELK"

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
```javascript
// –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ localStorage
{
  baseColor: { r: 255, g: 255, b: 255 },    // –ë–∞–∑–æ–≤—ã–π —Ü–≤–µ—Ç –±–µ–∑ —è—Ä–∫–æ—Å—Ç–∏
  currentColor: { r: 255, g: 255, b: 255 }, // –¢–µ–∫—É—â–∏–π —Ü–≤–µ—Ç —Å —è—Ä–∫–æ—Å—Ç—å—é
  brightness: 100                           // –Ø—Ä–∫–æ—Å—Ç—å –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
}
```

## üé® –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ü–≤–µ—Ç–∞

| –¶–≤–µ—Ç | HEX | RGB |
|------|-----|-----|
| üî¥ –ö—Ä–∞—Å–Ω—ã–π | #FF0000 | (255, 0, 0) |
| üü¢ –ó–µ–ª–µ–Ω—ã–π | #00FF00 | (0, 255, 0) |
| üîµ –°–∏–Ω–∏–π | #0000FF | (0, 0, 255) |
| üü° –ñ–µ–ª—Ç—ã–π | #FFFF00 | (255, 255, 0) |
| üü¶ –ì–æ–ª—É–±–æ–π | #00FFFF | (0, 255, 255) |
| üü£ –ü—É—Ä–ø—É—Ä–Ω—ã–π | #FF00FF | (255, 0, 255) |
| ‚ö™ –ë–µ–ª—ã–π | #FFFFFF | (255, 255, 255) |
| üü† –û—Ä–∞–Ω–∂–µ–≤—ã–π | #FFA500 | (255, 165, 0) |

## üîÆ –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

### –§–∞–∑–∞ 1: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ä–µ–∂–∏–º—ã
- [ ] –†–µ–∂–∏–º "–û–≥–æ–Ω—å" —Å –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º –º–µ—Ä—Ü–∞–Ω–∏—è
- [ ] –†–µ–∂–∏–º "–î–∏—Å–∫–æ—Ç–µ–∫–∞" —Å –±—ã—Å—Ç—Ä–æ–π —Å–º–µ–Ω–æ–π —Ü–≤–µ—Ç–æ–≤
- [ ] –†–µ–∂–∏–º "–†–∞–¥—É–≥–∞" —Å –ø–ª–∞–≤–Ω—ã–º–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏

### –§–∞–∑–∞ 2: –ê–¥—Ä–µ—Å–Ω—ã–µ –ª–µ–Ω—Ç—ã
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ WS2812B –ª–µ–Ω—Ç
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –ø–∏–∫—Å–µ–ª—è–º–∏
- [ ] –≠—Ñ—Ñ–µ–∫—Ç—ã –¥–≤–∏–∂–µ–Ω–∏—è (–≤–æ–ª–Ω—ã, –∑–º–µ–π–∫–∞)
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –º—É–∑—ã–∫–æ–π

### –§–∞–∑–∞ 3: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- [ ] –¢–∞–π–º–µ—Ä—ã –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- [ ] –ì—Ä—É–ø–ø–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ª–∞–º–ø–∞–º–∏
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —É–º–Ω—ã–º –¥–æ–º–æ–º
- [ ] –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Web Bluetooth API
- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ MELK —Å Bluetooth

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **Frontend**: Vanilla JavaScript + Tailwind CSS
- **–ü—Ä–æ—Ç–æ–∫–æ–ª**: Web Bluetooth API
- **–•—Ä–∞–Ω–µ–Ω–∏–µ**: localStorage –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞
```javascript
class MelkLampController {
  // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º
  async connectToDevice()
  async disconnect()
  
  // –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥
  async sendCommand(commandBytes, description)
  
  // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∞–º–ø–æ–π
  async turnOn()
  async turnOff()
  async setColor()
  async setBrightness()
  
  // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
  saveColor()
  loadSavedColor()
}
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

**¬© 2024 –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã**

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ—Ä–∞. –õ—é–±–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ, –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–ª–∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –±–µ–∑ –ø–∏—Å—å–º–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∞–≤—Ç–æ—Ä–∞ —Å—Ç—Ä–æ–≥–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ.

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –∞–≤—Ç–æ—Ä—É —á–µ—Ä–µ–∑ [Telegram](https://t.me/BeeDrila).

## üíù –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ï—Å–ª–∏ –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è –ø—Ä–æ–µ–∫—Ç, –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –∞–≤—Ç–æ—Ä–∞:

- üè¶ **–¢-–ë–∞–Ω–∫**: [–°—Å—ã–ª–∫–∞ –Ω–∞ –ø–µ—Ä–µ–≤–æ–¥](https://www.tbank.ru/cf/5JF3QJzjU42)
- üíö **–°–±–µ—Ä–ë–∞–Ω–∫**: [–°—Å—ã–ª–∫–∞ –Ω–∞ –ø–µ—Ä–µ–≤–æ–¥](https://messenger.online.sberbank.ru/sl/iIHpU94AqyfHOTwgp)
- üí≥ **–ö–∞—Ä—Ç–∞**: 5536 9139 7125 8773
- üì± **Telegram**: [@BeeDrila](https://t.me/BeeDrila)

---

*–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–º–Ω—ã–º –æ—Å–≤–µ—â–µ–Ω–∏–µ–º*